<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
</head>

<body>
    <script>
        const API_URL = "http://localhost:8080";
        const ACCESS_TOKEN = "eyJhbGciOiJSU0EtT0FFUC01MTIiLCJlbmMiOiJBMjU2R0NNIn0.UUiQyXMpdEDN98Mfufo-ljoyKGH4X-yJRlWv_iHm84Jl4GO-JZng_9Y4eamyaXduOq0kqc8bETLCSAlR1iXRqzFfPWps-yqLA52Td431UuS6n_5R3tP9l6i6uY0FFlBN6mlPvBNJGsPKG_TwOXwcK7jDTRZDQUnbzj9-1L8M0oZBqXaP8H8fPS709tsCJUumpDzHTDCVhZAvTwbG2MUJ83Q_pgVOrxSYZeOVaABzIvdxfiXlEj2pjdfcDBadQAYQLPVE4l0tmjXIUxrftQbg3YZ0peLI4b4xGqoqT90mf-IVNuyWi5NqtaL5Tp_byu8Y3f4b6szZhwaRVVbVn2MdENmY_TT7zm6WOFLd-GftRQEW2QICvugmBQXkPocAvDdBwmnFo45Z6nvR6t-r0p4EZxuNzgDy8JMpAsVzcePaUONlHzORKZIQcKJscDHgaRszO0eqRE8MalCnuhpDpLU-DqJqfmR1x6IAvj4nxgng0AmvmGD4eJ39amr0VyMWqWK8KAvBkOqFM--Jkyd6Pv4XdjpzctTDrx0R9DVg6b1Ol2-FoA6gvEK_5CwrL74M0VdmpWnibw-4ZgaFXhVfY9iA0UZlFZOWTZqqpfHK5wSCIpX8gq33hGObpgUKtikptxiRgSZHOP_tnOAZvlbImUbULut3RFpM2gidBrtFySbWCXI.FgWWqexeqHXpKrRM.wnRrGBhgCBvqF-RBnBkBzAfrA8zWrXm3FLKky3juC3tJ15vCWD_Q6LAIZU_exDMYUiIfKtvwBI7Qq_LdolAkDDuLhu-U_gEBj4UOuThhsKpr_y5uGZ8egwcAyTPwITj2xTmToZouhOdziXkGBViwS2QfGHtzXFtUbAuOIEi95o1f-iStMKTwy2tUZrCqSup5irHTXXDaPBtkOBPuRRD6iB_Vpm2kB2XRwuTpPx9kKaIxbZlQfQCn4IumSaCmjwxZ_93N9_0YTLIQOyCKB5auRj38_LXAt7hnfU5TYEt4_SsyLM5fWCa1fw3e5qp61DXkLyc.42MR6RgWOK5ZR4UlC4-rUg";

        async function getGoogleOAuth() {
            const scope = "https://www.googleapis.com/auth/youtube.readonly";
            const redirect_uri = "https://google.com"
            const response = await fetch(`${API_URL}/oauth/google?redirect_uri=${redirect_uri}&scope=${scope}`, {
                method: "GET",
                headers: {
                    Authorization: `Bearer ${ACCESS_TOKEN}`
                },
                credentials: "include"
            })
            const data = await response.json();

            return { headers: response.headers, data };
        }

        window.onload = async () => {
            const { headers, data } = await getGoogleOAuth();
            console.log(headers);
            window.open(data.redirect_uri, "_BLANK");
        }
    </script>
</body>

</html>